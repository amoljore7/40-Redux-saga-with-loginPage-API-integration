{"ast":null,"code":"import { put, takeLatest } from \"redux-saga/effects\";\nimport { GET_EMPLOYEES_LIST, GET_SINGLE_EMPLOYEE, ADD_EMPLOYEE, UPLOAD_EMPLOYEES_LIST, GET_EMPLOYEES_LIST_SUCCESS, GET_EMPLOYEES_LIST_FAIL, GET_SINGLE_EMPLOYEE_SUCCESS, GET_SINGLE_EMPLOYEE_FAIL, ADD_EMPLOYEE_SUCCESS, UPLOAD_EMPLOYEES_LIST_SUCCESS, UPLOAD_EMPLOYEES_LIST_FAIL, ADD_EMPLOYEE_FAIL, SET_LOADING } from \"../actions/employee/employeeTypes\";\nimport Axios from \"axios\";\n\nfunction* getEmployeeList() {\n  yield put({\n    type: SET_LOADING\n  });\n\n  try {\n    const employeeList = yield fetch(`https://`).then(response => response.json());\n    yield put({\n      type: GET_EMPLOYEES_LIST_SUCCESS,\n      payload: employeeList\n    });\n  } catch (e) {\n    yield put({\n      type: GET_EMPLOYEES_LIST_FAIL,\n      payload: e.message\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n}\n\nfunction* getEmployeeDetails({\n  payload\n}) {\n  try {\n    const employeeDetails = yield Axios.get(`/employees/${payload}`).then(res => res.data);\n    console.log(employeeDetails);\n\n    if (employeeDetails) {\n      yield put({\n        type: GET_SINGLE_EMPLOYEE_SUCCESS,\n        payload: employeeDetails\n      });\n    } else {\n      yield put({\n        type: GET_SINGLE_EMPLOYEE_FAIL,\n        payload: employeeDetails\n      });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* addEmployee({\n  payload\n}) {\n  yield put({\n    type: SET_LOADING\n  });\n\n  try {\n    const employee = yield Axios.post(\"/employees/\", payload).then(res => res.data).catch(err => err);\n    console.log(employee);\n    yield put({\n      type: ADD_EMPLOYEE_SUCCESS,\n      payload: employee\n    });\n  } catch (e) {\n    yield put({\n      type: ADD_EMPLOYEE_FAIL,\n      payload: e.message\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n}\n\nfunction* addEmployeeList(data) {\n  console.log(\"saassad======\", data);\n  yield put({\n    type: SET_LOADING\n  });\n  const data1 = new FormData();\n  data1.append(\"files\", data.employeeList);\n  const config = {\n    headers: {\n      \"content-type\": \"multipart/form-data\"\n    }\n  };\n\n  try {\n    const employeeList = yield Axios.post(`/employees/bulkupload/${data.employeeList}`, config, data1).then(res => res.data).catch(err => err);\n    console.log(\"+++++++++++++++\", employeeList);\n    yield put({\n      type: UPLOAD_EMPLOYEES_LIST_SUCCESS,\n      payload: employeeList\n    });\n  } catch (e) {\n    yield put({\n      type: UPLOAD_EMPLOYEES_LIST_FAIL,\n      payload: e.message\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n}\n\nexport function* employeeActionWatcher() {\n  yield takeLatest(GET_EMPLOYEES_LIST, getEmployeeList);\n  yield takeLatest(GET_SINGLE_EMPLOYEE, getEmployeeDetails);\n  yield takeLatest(ADD_EMPLOYEE, addEmployee);\n  yield takeLatest(UPLOAD_EMPLOYEES_LIST, addEmployeeList);\n}","map":{"version":3,"sources":["/home/amol/Desktop/HRA/src/sagas/employee.sagas.js"],"names":["put","takeLatest","GET_EMPLOYEES_LIST","GET_SINGLE_EMPLOYEE","ADD_EMPLOYEE","UPLOAD_EMPLOYEES_LIST","GET_EMPLOYEES_LIST_SUCCESS","GET_EMPLOYEES_LIST_FAIL","GET_SINGLE_EMPLOYEE_SUCCESS","GET_SINGLE_EMPLOYEE_FAIL","ADD_EMPLOYEE_SUCCESS","UPLOAD_EMPLOYEES_LIST_SUCCESS","UPLOAD_EMPLOYEES_LIST_FAIL","ADD_EMPLOYEE_FAIL","SET_LOADING","Axios","getEmployeeList","type","employeeList","fetch","then","response","json","payload","e","message","getEmployeeDetails","employeeDetails","get","res","data","console","log","addEmployee","employee","post","catch","err","addEmployeeList","data1","FormData","append","config","headers","employeeActionWatcher"],"mappings":"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","sourcesContent":["import { put, takeLatest } from \"redux-saga/effects\";\nimport {\n  GET_EMPLOYEES_LIST,\n  GET_SINGLE_EMPLOYEE,\n  ADD_EMPLOYEE,\n  UPLOAD_EMPLOYEES_LIST,\n  GET_EMPLOYEES_LIST_SUCCESS,\n  GET_EMPLOYEES_LIST_FAIL,\n  GET_SINGLE_EMPLOYEE_SUCCESS,\n  GET_SINGLE_EMPLOYEE_FAIL,\n  ADD_EMPLOYEE_SUCCESS,\n  UPLOAD_EMPLOYEES_LIST_SUCCESS,\n  UPLOAD_EMPLOYEES_LIST_FAIL,\n  ADD_EMPLOYEE_FAIL,\n  SET_LOADING,\n} from \"../actions/employee/employeeTypes\";\nimport Axios from \"axios\";\n\nfunction* getEmployeeList() {\n  yield put({ type: SET_LOADING });\n  try {\n    const employeeList = yield fetch(`https://`).then((response) => response.json());\n\n    yield put({ type: GET_EMPLOYEES_LIST_SUCCESS, payload: employeeList });\n  } catch (e) {\n    yield put({ type: GET_EMPLOYEES_LIST_FAIL, payload: e.message });\n  }\n  yield put({ type: SET_LOADING });\n}\n\nfunction* getEmployeeDetails({ payload }) {\n  try {\n    const employeeDetails = yield Axios.get(`/employees/${payload}`).then(\n      (res) => res.data\n    );\n    console.log(employeeDetails);\n    if (employeeDetails) {\n      yield put({ type: GET_SINGLE_EMPLOYEE_SUCCESS, payload: employeeDetails });\n    } else {\n      yield put({ type: GET_SINGLE_EMPLOYEE_FAIL, payload: employeeDetails });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* addEmployee({ payload }) {\n  yield put({ type: SET_LOADING });\n\n  try {\n    const employee = yield Axios.post(\"/employees/\", payload)\n      .then((res) => res.data)\n      .catch((err) => err);\n    console.log(employee);\n    yield put({ type: ADD_EMPLOYEE_SUCCESS, payload: employee });\n  } catch (e) {\n    yield put({ type: ADD_EMPLOYEE_FAIL, payload: e.message });\n  }\n  yield put({ type: SET_LOADING });\n}\n\nfunction* addEmployeeList(data) {\n  console.log(\"saassad======\", data);\n  yield put({ type: SET_LOADING });\n  const data1 = new FormData();\n  data1.append(\"files\", data.employeeList);\n  const config = {\n    headers: {\n      \"content-type\": \"multipart/form-data\",\n    },\n  };\n  try {\n    const employeeList = yield Axios.post(\n      `/employees/bulkupload/${data.employeeList}`,\n      config,\n      data1\n    )\n      .then((res) => res.data)\n      .catch((err) => err);\n    console.log(\"+++++++++++++++\", employeeList);\n    yield put({ type: UPLOAD_EMPLOYEES_LIST_SUCCESS, payload: employeeList });\n  } catch (e) {\n    yield put({ type: UPLOAD_EMPLOYEES_LIST_FAIL, payload: e.message });\n  }\n  yield put({ type: SET_LOADING });\n}\n\nexport function* employeeActionWatcher() {\n  yield takeLatest(GET_EMPLOYEES_LIST, getEmployeeList);\n  yield takeLatest(GET_SINGLE_EMPLOYEE, getEmployeeDetails);\n  yield takeLatest(ADD_EMPLOYEE, addEmployee);\n  yield takeLatest(UPLOAD_EMPLOYEES_LIST, addEmployeeList);\n}\n"]},"metadata":{},"sourceType":"module"}