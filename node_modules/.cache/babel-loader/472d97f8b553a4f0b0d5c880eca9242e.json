{"ast":null,"code":"import { put, takeLatest } from \"redux-saga/effects\";\nimport { GET_EMPLOYEES_LIST, GET_SINGLE_EMPLOYEE, ADD_EMPLOYEE, ADD_EMPLOYEES_LIST, GET_EMPLOYEES_LIST_SUCCESS, GET_EMPLOYEES_LIST_FAIL, GET_SINGLE_EMPLOYEE_SUCCESS, GET_SINGLE_EMPLOYEE_FAIL, ADD_EMPLOYEE_SUCCESS, ADD_EMPLOYEES_LIST_SUCCESS, ADD_EMPLOYEES_LIST_FAIL, ADD_EMPLOYEE_FAIL, SET_LOADING, EDIT_EMPLOYEE, EDIT_EMPLOYEE_SUCCESS, EDIT_EMPLOYEE_FAIL, CLEAR_MESSAGES } from \"../actions/employee/employeeTypes\";\nimport Axios from \"axios\";\n\nfunction* getEmployeeList() {\n  yield put({\n    type: SET_LOADING\n  });\n\n  try {\n    const employeeList = yield fetch(`https://`).then(response => response.json());\n    yield put({\n      type: GET_EMPLOYEES_LIST_SUCCESS,\n      payload: employeeList\n    });\n  } catch (e) {\n    yield put({\n      type: GET_EMPLOYEES_LIST_FAIL,\n      payload: e.message\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n}\n\nfunction* getEmployeeDetails({\n  payload\n}) {\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n\n  try {\n    const employeeDetails = yield Axios.get(`/employees/${payload}`).then(res => res.data);\n    console.log(employeeDetails);\n\n    if (employeeDetails) {\n      yield put({\n        type: GET_SINGLE_EMPLOYEE_SUCCESS,\n        payload: employeeDetails\n      });\n    } else {\n      yield put({\n        type: GET_SINGLE_EMPLOYEE_FAIL,\n        payload: employeeDetails\n      });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* addEmployee({\n  payload\n}) {\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n  yield put({\n    type: SET_LOADING\n  });\n  let msg;\n\n  try {\n    const employee = yield Axios.post(\"/employees/\", payload).then(res => res.data);\n\n    if (employee) {\n      yield put({\n        type: ADD_EMPLOYEE_SUCCESS,\n        payload: employee\n      });\n    } else {\n      yield put({\n        type: ADD_EMPLOYEE_FAIL,\n        payload: false\n      });\n    }\n  } catch (e) {\n    console.log(\"Request fail >>>>>\", e);\n    msg = {\n      id: 1,\n      text: \"something went wrong\"\n    };\n    console.log(\"MSG >>>>>\", msg);\n    yield put({\n      type: ADD_EMPLOYEE_FAIL,\n      payload: msg.text\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n}\n\nfunction* addEmployeeList() {\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n  yield put({\n    type: SET_LOADING\n  });\n\n  try {\n    const employeeList = yield fetch(`https://`).then(response => response.json());\n    yield put({\n      type: ADD_EMPLOYEES_LIST_SUCCESS,\n      payload: employeeList\n    });\n  } catch (e) {\n    yield put({\n      type: ADD_EMPLOYEES_LIST_FAIL,\n      payload: e.message\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n}\n\nfunction* editEmployee({\n  payload\n}) {\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n  let msg;\n  const EmpID = localStorage.getItem(\"EmpID\");\n  yield put({\n    type: SET_LOADING\n  });\n\n  try {\n    const employee = yield Axios.put(`/employees/${EmpID}`, payload).then(res => res.data); // .catch((err) => err);\n\n    if (employee) {\n      yield put({\n        type: EDIT_EMPLOYEE_SUCCESS,\n        payload: employee\n      });\n    } else {\n      msg = {\n        id: 1,\n        text: \"something went wrong...!\"\n      };\n      yield put({\n        type: EDIT_EMPLOYEE_FAIL,\n        payload: msg.text\n      });\n    }\n  } catch (e) {\n    msg = {\n      id: 1,\n      text: \"something went wrong...!\"\n    };\n    yield put({\n      type: EDIT_EMPLOYEE_FAIL,\n      payload: msg.text\n    });\n  }\n\n  yield put({\n    type: SET_LOADING\n  });\n  yield put({\n    type: CLEAR_MESSAGES\n  });\n}\n\nexport function* employeeActionWatcher() {\n  yield takeLatest(GET_EMPLOYEES_LIST, getEmployeeList);\n  yield takeLatest(GET_SINGLE_EMPLOYEE, getEmployeeDetails);\n  yield takeLatest(ADD_EMPLOYEE, addEmployee);\n  yield takeLatest(ADD_EMPLOYEES_LIST, addEmployeeList);\n  yield takeLatest(EDIT_EMPLOYEE, editEmployee);\n}","map":{"version":3,"sources":["/home/amol/Desktop/HRA/src/sagas/employee.sagas.js"],"names":["put","takeLatest","GET_EMPLOYEES_LIST","GET_SINGLE_EMPLOYEE","ADD_EMPLOYEE","ADD_EMPLOYEES_LIST","GET_EMPLOYEES_LIST_SUCCESS","GET_EMPLOYEES_LIST_FAIL","GET_SINGLE_EMPLOYEE_SUCCESS","GET_SINGLE_EMPLOYEE_FAIL","ADD_EMPLOYEE_SUCCESS","ADD_EMPLOYEES_LIST_SUCCESS","ADD_EMPLOYEES_LIST_FAIL","ADD_EMPLOYEE_FAIL","SET_LOADING","EDIT_EMPLOYEE","EDIT_EMPLOYEE_SUCCESS","EDIT_EMPLOYEE_FAIL","CLEAR_MESSAGES","Axios","getEmployeeList","type","employeeList","fetch","then","response","json","payload","e","message","getEmployeeDetails","employeeDetails","get","res","data","console","log","addEmployee","msg","employee","post","id","text","addEmployeeList","editEmployee","EmpID","localStorage","getItem","employeeActionWatcher"],"mappings":"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","sourcesContent":["import { put, takeLatest } from \"redux-saga/effects\";\nimport {\n  GET_EMPLOYEES_LIST,\n  GET_SINGLE_EMPLOYEE,\n  ADD_EMPLOYEE,\n  ADD_EMPLOYEES_LIST,\n  GET_EMPLOYEES_LIST_SUCCESS,\n  GET_EMPLOYEES_LIST_FAIL,\n  GET_SINGLE_EMPLOYEE_SUCCESS,\n  GET_SINGLE_EMPLOYEE_FAIL,\n  ADD_EMPLOYEE_SUCCESS,\n  ADD_EMPLOYEES_LIST_SUCCESS,\n  ADD_EMPLOYEES_LIST_FAIL,\n  ADD_EMPLOYEE_FAIL,\n  SET_LOADING,\n  EDIT_EMPLOYEE,\n  EDIT_EMPLOYEE_SUCCESS,\n  EDIT_EMPLOYEE_FAIL,\n  CLEAR_MESSAGES,\n} from \"../actions/employee/employeeTypes\";\nimport Axios from \"axios\";\n\nfunction* getEmployeeList() {\n  yield put({ type: SET_LOADING });\n  try {\n    const employeeList = yield fetch(`https://`).then((response) => response.json());\n\n    yield put({ type: GET_EMPLOYEES_LIST_SUCCESS, payload: employeeList });\n  } catch (e) {\n    yield put({ type: GET_EMPLOYEES_LIST_FAIL, payload: e.message });\n  }\n  yield put({ type: SET_LOADING });\n}\n\nfunction* getEmployeeDetails({ payload }) {\n  yield put({ type: CLEAR_MESSAGES });\n  try {\n    const employeeDetails = yield Axios.get(`/employees/${payload}`).then(\n      (res) => res.data\n    );\n    console.log(employeeDetails);\n    if (employeeDetails) {\n      yield put({ type: GET_SINGLE_EMPLOYEE_SUCCESS, payload: employeeDetails });\n    } else {\n      yield put({ type: GET_SINGLE_EMPLOYEE_FAIL, payload: employeeDetails });\n    }\n  } catch (e) {\n    console.log(e);\n  }\n}\n\nfunction* addEmployee({ payload }) {\n  yield put({ type: CLEAR_MESSAGES });\n  yield put({ type: SET_LOADING });\n  let msg;\n  try {\n    const employee = yield Axios.post(\"/employees/\", payload).then(\n      (res) => res.data\n    );\n    if (employee) {\n      yield put({ type: ADD_EMPLOYEE_SUCCESS, payload: employee });\n    } else {\n      yield put({ type: ADD_EMPLOYEE_FAIL, payload: false });\n    }\n  } catch (e) {\n    console.log(\"Request fail >>>>>\", e);\n    msg = {\n      id: 1,\n      text: \"something went wrong\",\n    };\n    console.log(\"MSG >>>>>\", msg);\n    yield put({ type: ADD_EMPLOYEE_FAIL, payload: msg.text });\n  }\n  yield put({ type: SET_LOADING });\n  yield put({ type: CLEAR_MESSAGES });\n}\n\nfunction* addEmployeeList() {\n  yield put({ type: CLEAR_MESSAGES });\n  yield put({ type: SET_LOADING });\n  try {\n    const employeeList = yield fetch(`https://`).then((response) => response.json());\n\n    yield put({ type: ADD_EMPLOYEES_LIST_SUCCESS, payload: employeeList });\n  } catch (e) {\n    yield put({ type: ADD_EMPLOYEES_LIST_FAIL, payload: e.message });\n  }\n  yield put({ type: SET_LOADING });\n  yield put({ type: CLEAR_MESSAGES });\n}\nfunction* editEmployee({ payload }) {\n  yield put({ type: CLEAR_MESSAGES });\n  let msg;\n  const EmpID = localStorage.getItem(\"EmpID\");\n  yield put({ type: SET_LOADING });\n  try {\n    const employee = yield Axios.put(`/employees/${EmpID}`, payload).then(\n      (res) => res.data\n    );\n    // .catch((err) => err);\n    if (employee) {\n      yield put({ type: EDIT_EMPLOYEE_SUCCESS, payload: employee });\n    } else {\n      msg = {\n        id: 1,\n        text: \"something went wrong...!\",\n      };\n      yield put({ type: EDIT_EMPLOYEE_FAIL, payload: msg.text });\n    }\n  } catch (e) {\n    msg = {\n      id: 1,\n      text: \"something went wrong...!\",\n    };\n    yield put({ type: EDIT_EMPLOYEE_FAIL, payload: msg.text });\n  }\n  yield put({ type: SET_LOADING });\n  yield put({ type: CLEAR_MESSAGES });\n}\n\nexport function* employeeActionWatcher() {\n  yield takeLatest(GET_EMPLOYEES_LIST, getEmployeeList);\n  yield takeLatest(GET_SINGLE_EMPLOYEE, getEmployeeDetails);\n  yield takeLatest(ADD_EMPLOYEE, addEmployee);\n  yield takeLatest(ADD_EMPLOYEES_LIST, addEmployeeList);\n  yield takeLatest(EDIT_EMPLOYEE, editEmployee);\n}\n"]},"metadata":{},"sourceType":"module"}