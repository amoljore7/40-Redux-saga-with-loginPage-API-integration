{"ast":null,"code":"var _jsxFileName = \"/home/amol/Desktop/HRA/src/components/pages/dashboard/dashboard.js\";\nimport React, { useState, useEffect } from \"react\";\nimport { Table, Input, Button, Select, Modal, message } from \"antd\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport BulkUpload from \"../bulkupload/BulkUpload\";\nimport AddEmployee from \"../addemployee/AddEmployee\";\nimport EditEmployee from \"../editemployee/EditEmployee\";\nimport ShowEmployee from \"../showemployee/ShowEmployee\";\nimport { CloudUploadOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\nconst {\n  Option\n} = Select;\nconst {\n  Search\n} = Input;\n\nconst Dashboard = props => {\n  const paginationConfig = {\n    defaultPageSize: 5,\n    showSizeChanger: true,\n    pageSizeOptions: [\"5\", \"10\", \"20\", \"50\", \"100\"]\n  };\n  const [data, setData] = useState([]);\n  const [pagination, setPagination] = useState(paginationConfig);\n  const [loading, setLoading] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [selectModal, setSelectModal] = useState(\"\");\n  const [searchParams, setSearchParams] = useState({});\n  const [showEmp, setShowEmp] = useState(\"\");\n  const [editEmp, setEditEmp] = useState(null);\n  const [projects, setProjects] = useState(null);\n  const [location, setLocation] = useState(null);\n  useEffect(() => {\n    fetch(); //eslint-disable-next-line\n  }, []);\n  useEffect(() => {\n    if (props.employee.addModalClose) {\n      handleModal(null, null);\n      message.success(\"You have successfully Register !\");\n    }\n\n    if (props.employee.editModalClose) {\n      handleModal(null, null);\n      message.success(\"successfully Updated !\");\n    }\n\n    if (props.employee.errors) {\n      message.warning(props.employee.errors);\n    }\n  }, [props.employee.addModalClose, props.employee.editModalClose, props.employee.errors]);\n  useEffect(() => {\n    Axios.get(\"/locations\").then(res => {\n      setLocation(res.data);\n    });\n    Axios.get(\"/projects\").then(res => {\n      setProjects(res.data);\n    });\n  }, []);\n\n  const handleModal = (name, id) => {\n    setEditEmp(id);\n    setSelectModal(name);\n    setShowModal(!showModal);\n  };\n\n  const showEmpModal = (name, id) => {\n    setShowEmp(id);\n    setSelectModal(name);\n    setShowModal(!showModal);\n  };\n\n  const handleTableChange = (pagination, filters, sorter) => {\n    const pager = { ...pagination\n    };\n    pager.current = pagination.current;\n    setPagination(pager);\n    fetch({\n      results: pagination.pageSize,\n      page: pagination.current,\n      sortField: sorter.field,\n      sortOrder: sorter.order,\n      ...filters\n    });\n  };\n\n  const fetch = (params = {}) => {\n    setLoading(true);\n\n    if (Object.keys(params).length) {\n      handleTableChhandleTableChangeange;\n      setSearchParams({ ...params,\n        offset: params.results * (params.page - 1),\n        limit: params.results\n      });\n    }\n  };\n\n  useEffect(() => {\n    Axios.get(\"/employees/\", {\n      params: {\n        limit: 10,\n        ...searchParams,\n        searchInput: searchInput\n      }\n    }).then(res => {\n      const paginationData = { ...pagination\n      };\n      paginationData.total = res.data.count;\n      setData(res.data.results);\n      setPagination(paginationData);\n      setLoading(false);\n    }); //eslint-disable-next-line\n  }, [searchParams, props.employee.addModalClose, props.employee.editModalClose]);\n  const columns = [{\n    title: \"Emp Id\",\n    dataIndex: \"EMPID\",\n    sorter: true\n  }, {\n    title: \"Name\",\n    dataIndex: \"FIRSTNAME\",\n    sorter: true\n  }, {\n    title: \"Email\",\n    dataIndex: \"EMAIL\"\n  }, {\n    title: \"Address\",\n    dataIndex: \"CURRENTLOCATION\",\n    render: CURRENTLOCATION => CURRENTLOCATION.ADDRESS,\n    filters: [{\n      text: \"AAG\",\n      value: \"AAG\"\n    }, {\n      text: \"Vantage 9\",\n      value: \"Vantage 9\"\n    }, {\n      text: \"Adisa\",\n      value: \"Adisa\"\n    }]\n  }, {\n    title: \"Unit\",\n    dataIndex: \"UNIT\",\n    filters: [{\n      text: \"Male\",\n      value: \"male\"\n    }, {\n      text: \"Female\",\n      value: \"female\"\n    }]\n  }, {\n    title: \"Status\",\n    dataIndex: \"STATUS\",\n    filters: [{\n      text: \"Onboarding\",\n      value: \"DE\"\n    }, {\n      text: \"Offboarding\",\n      value: \"ES\"\n    }, {\n      text: \"Inactive\",\n      value: \"IR\"\n    }]\n  }, {\n    title: \"Action\",\n    dataIndex: \"EMPID\",\n    render: EMPID => /*#__PURE__*/React.createElement(\"div\", {\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 162,\n        columnNumber: 9\n      }\n    }, /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      size: \"small\",\n      className: \"m-1\",\n      onClick: () => showEmpModal(\"show\", EMPID),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 163,\n        columnNumber: 11\n      }\n    }, \"Show\"), /*#__PURE__*/React.createElement(Button, {\n      type: \"primary\",\n      size: \"small\",\n      className: \"m-1\",\n      onClick: () => handleModal(\"edit\", EMPID),\n      __self: this,\n      __source: {\n        fileName: _jsxFileName,\n        lineNumber: 171,\n        columnNumber: 11\n      }\n    }, \"Edit\"))\n  }];\n  const selectBefore = /*#__PURE__*/React.createElement(Select, {\n    defaultValue: \"name\",\n    className: \"select-before\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 184,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Option, {\n    value: \"emp_id\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }\n  }, \"Emp ID\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"name\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 7\n    }\n  }, \"Name\"), /*#__PURE__*/React.createElement(Option, {\n    value: \"email\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 187,\n      columnNumber: 7\n    }\n  }, \"Email\"));\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 192,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"h3\", {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 7\n    }\n  }, \"Employees\"), /*#__PURE__*/React.createElement(\"div\", {\n    className: \"my-3 d-flex flex-column justify-content-between\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 194,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    className: \"w-50 w-sm-50\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Search, {\n    addonBefore: selectBefore,\n    placeholder: \"input search text\",\n    enterButton: \"Search\",\n    size: \"large\",\n    onChange: e => setSearchInput(e.target.value),\n    onSearch: value => setSearchParams({ ...searchParams,\n      searchInput\n    }),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 196,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Button.Group, {\n    className: \"my-sm-3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    style: {\n      margin: \"0 2px\"\n    },\n    shape: \"round\",\n    size: \"large\",\n    onClick: () => handleModal(\"add\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 206,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(PlusCircleOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 213,\n      columnNumber: 13\n    }\n  }), \"Add Employee\"), /*#__PURE__*/React.createElement(Button, {\n    type: \"primary\",\n    style: {\n      margin: \"0 2px\"\n    },\n    shape: \"round\",\n    size: \"large\",\n    onClick: () => handleModal(\"upload\"),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 216,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(CloudUploadOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 13\n    }\n  }), \"Add Employee List\"))), /*#__PURE__*/React.createElement(Table, {\n    bordered: true,\n    columns: columns,\n    rowKey: ID => ID,\n    dataSource: data,\n    pagination: pagination,\n    loading: loading,\n    onChange: handleTableChange,\n    className: \"overflow-auto\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 228,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(Modal, {\n    visible: showModal,\n    onCancel: handleModal,\n    footer: [],\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 7\n    }\n  }, selectModal === \"upload\" && /*#__PURE__*/React.createElement(BulkUpload, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 38\n    }\n  }), selectModal === \"add\" && location !== null && projects !== null && /*#__PURE__*/React.createElement(AddEmployee, {\n    location: location,\n    projects: projects,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 11\n    }\n  }), selectModal === \"edit\" && location !== null && projects !== null && editEmp !== null && /*#__PURE__*/React.createElement(EditEmployee, {\n    empid: editEmp,\n    location: location,\n    projects: projects,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 13\n    }\n  }), selectModal === \"show\" && /*#__PURE__*/React.createElement(ShowEmployee, {\n    empid: showEmp,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 249,\n      columnNumber: 36\n    }\n  })));\n};\n\nconst mapStateToProps = state => ({\n  auth: state.auth,\n  messages: state.messages,\n  employee: state.employee\n});\n\nexport default connect(mapStateToProps, {})(Dashboard);","map":{"version":3,"sources":["/home/amol/Desktop/HRA/src/components/pages/dashboard/dashboard.js"],"names":["React","useState","useEffect","Table","Input","Button","Select","Modal","message","connect","Axios","BulkUpload","AddEmployee","EditEmployee","ShowEmployee","CloudUploadOutlined","PlusCircleOutlined","Option","Search","Dashboard","props","paginationConfig","defaultPageSize","showSizeChanger","pageSizeOptions","data","setData","pagination","setPagination","loading","setLoading","searchInput","setSearchInput","showModal","setShowModal","selectModal","setSelectModal","searchParams","setSearchParams","showEmp","setShowEmp","editEmp","setEditEmp","projects","setProjects","location","setLocation","fetch","employee","addModalClose","handleModal","success","editModalClose","errors","warning","get","then","res","name","id","showEmpModal","handleTableChange","filters","sorter","pager","current","results","pageSize","page","sortField","field","sortOrder","order","params","Object","keys","length","handleTableChhandleTableChangeange","offset","limit","paginationData","total","count","columns","title","dataIndex","render","CURRENTLOCATION","ADDRESS","text","value","EMPID","selectBefore","e","target","margin","ID","mapStateToProps","state","auth","messages"],"mappings":"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","sourcesContent":["import React, { useState, useEffect } from \"react\";\nimport { Table, Input, Button, Select, Modal, message } from \"antd\";\nimport { connect } from \"react-redux\";\nimport Axios from \"axios\";\nimport BulkUpload from \"../bulkupload/BulkUpload\";\nimport AddEmployee from \"../addemployee/AddEmployee\";\nimport EditEmployee from \"../editemployee/EditEmployee\";\nimport ShowEmployee from \"../showemployee/ShowEmployee\";\nimport { CloudUploadOutlined, PlusCircleOutlined } from \"@ant-design/icons\";\n\nconst { Option } = Select;\nconst { Search } = Input;\n\nconst Dashboard = (props) => {\n  const paginationConfig = {\n    defaultPageSize: 5,\n    showSizeChanger: true,\n    pageSizeOptions: [\"5\", \"10\", \"20\", \"50\", \"100\"],\n  };\n  const [data, setData] = useState([]);\n  const [pagination, setPagination] = useState(paginationConfig);\n  const [loading, setLoading] = useState(false);\n  const [searchInput, setSearchInput] = useState(\"\");\n  const [showModal, setShowModal] = useState(false);\n  const [selectModal, setSelectModal] = useState(\"\");\n  const [searchParams, setSearchParams] = useState({});\n  const [showEmp, setShowEmp] = useState(\"\");\n  const [editEmp, setEditEmp] = useState(null);\n  const [projects, setProjects] = useState(null);\n  const [location, setLocation] = useState(null);\n  \n  useEffect(() => {\n    fetch();\n    //eslint-disable-next-line\n  }, []);\n\n  useEffect(() => {\n    if (props.employee.addModalClose) {\n      handleModal(null, null);\n      message.success(\"You have successfully Register !\");\n    }\n    if (props.employee.editModalClose) {\n      handleModal(null, null);\n      message.success(\"successfully Updated !\");\n    }\n    if (props.employee.errors) {\n      message.warning(props.employee.errors);\n    }\n  }, [\n    props.employee.addModalClose,\n    props.employee.editModalClose,\n    props.employee.errors,\n  ]);\n\n  useEffect(() => {\n    Axios.get(\"/locations\").then((res) => {\n      setLocation(res.data);\n    });\n    Axios.get(\"/projects\").then((res) => {\n      setProjects(res.data);\n    });\n  }, []);\n\n  const handleModal = (name, id) => {\n    setEditEmp(id);\n    setSelectModal(name);\n    setShowModal(!showModal);\n  };\n  const showEmpModal = (name, id) => {\n    setShowEmp(id);\n    setSelectModal(name);\n    setShowModal(!showModal);\n  };\n\n  const handleTableChange = (pagination, filters, sorter) => {\n    const pager = { ...pagination };\n    pager.current = pagination.current;\n    setPagination(pager);\n    fetch({\n      results: pagination.pageSize,\n      page: pagination.current,\n      sortField: sorter.field,\n      sortOrder: sorter.order,\n      ...filters,\n    });\n  };\n\n  const fetch = (params = {}) => {\n    setLoading(true);\n    if (Object.keys(params).length) {handleTableChhandleTableChangeange\n      setSearchParams({\n        ...params,\n        offset: params.results * (params.page - 1),\n        limit: params.results,\n      });\n    }\n  };\n\n  useEffect(() => {\n    Axios.get(\"/employees/\", {\n      params: {\n        limit: 10,\n        ...searchParams,\n        searchInput: searchInput,\n      },\n    }).then((res) => {\n      const paginationData = { ...pagination };\n      paginationData.total = res.data.count;\n      setData(res.data.results);\n      setPagination(paginationData);\n      setLoading(false);\n    });\n    //eslint-disable-next-line\n  }, [searchParams, props.employee.addModalClose, props.employee.editModalClose]);\n\n  const columns = [\n    {\n      title: \"Emp Id\",\n      dataIndex: \"EMPID\",\n      sorter: true,\n    },\n    {\n      title: \"Name\",\n      dataIndex: \"FIRSTNAME\",\n      sorter: true,\n    },\n    {\n      title: \"Email\",\n      dataIndex: \"EMAIL\",\n    },\n    {\n      title: \"Address\",\n      dataIndex: \"CURRENTLOCATION\",\n      render: (CURRENTLOCATION) => CURRENTLOCATION.ADDRESS,\n      filters: [\n        { text: \"AAG\", value: \"AAG\" },\n        { text: \"Vantage 9\", value: \"Vantage 9\" },\n        { text: \"Adisa\", value: \"Adisa\" },\n      ],\n    },\n    {\n      title: \"Unit\",\n      dataIndex: \"UNIT\",\n      filters: [\n        { text: \"Male\", value: \"male\" },\n        { text: \"Female\", value: \"female\" },\n      ],\n    },\n    {\n      title: \"Status\",\n      dataIndex: \"STATUS\",\n      filters: [\n        { text: \"Onboarding\", value: \"DE\" },\n        { text: \"Offboarding\", value: \"ES\" },\n        { text: \"Inactive\", value: \"IR\" },\n      ],\n    },\n    {\n      title: \"Action\",\n      dataIndex: \"EMPID\",\n      render: (EMPID) => (\n        <div>\n          <Button\n            type=\"primary\"\n            size=\"small\"\n            className=\"m-1\"\n            onClick={() => showEmpModal(\"show\", EMPID)}\n          >\n            Show\n          </Button>\n          <Button\n            type=\"primary\"\n            size=\"small\"\n            className=\"m-1\"\n            onClick={() => handleModal(\"edit\", EMPID)}\n          >\n            Edit\n          </Button>\n        </div>\n      ),\n    },\n  ];\n  const selectBefore = (\n    <Select defaultValue=\"name\" className=\"select-before\">\n      <Option value=\"emp_id\">Emp ID</Option>\n      <Option value=\"name\">Name</Option>\n      <Option value=\"email\">Email</Option>\n    </Select>\n  );\n\n  return (\n    <div className=\"my-3\">\n      <h3>Employees</h3>\n      <div className=\"my-3 d-flex flex-column justify-content-between\">\n        <div className=\"w-50 w-sm-50\">\n          <Search\n            addonBefore={selectBefore}\n            placeholder=\"input search text\"\n            enterButton=\"Search\"\n            size=\"large\"\n            onChange={(e) => setSearchInput(e.target.value)}\n            onSearch={(value) => setSearchParams({ ...searchParams, searchInput })}\n          />\n        </div>\n        <Button.Group className=\"my-sm-3\">\n          <Button\n            type=\"primary\"\n            style={{ margin: \"0 2px\" }}\n            shape=\"round\"\n            size=\"large\"\n            onClick={() => handleModal(\"add\")}\n          >\n            <PlusCircleOutlined />\n            Add Employee\n          </Button>\n          <Button\n            type=\"primary\"\n            style={{ margin: \"0 2px\" }}\n            shape=\"round\"\n            size=\"large\"\n            onClick={() => handleModal(\"upload\")}\n          >\n            <CloudUploadOutlined />\n            Add Employee List\n          </Button>\n        </Button.Group>\n      </div>\n      <Table\n        bordered\n        columns={columns}\n        rowKey={(ID) => ID}\n        dataSource={data}\n        pagination={pagination}\n        loading={loading}\n        onChange={handleTableChange}\n        className=\"overflow-auto\"\n      />\n      <Modal visible={showModal} onCancel={handleModal} footer={[]}>\n        {selectModal === \"upload\" && <BulkUpload />}\n        {selectModal === \"add\" && location !== null && projects !== null && (\n          <AddEmployee location={location} projects={projects} />\n        )}\n        {selectModal === \"edit\" &&\n          location !== null &&\n          projects !== null &&\n          editEmp !== null && (\n            <EditEmployee empid={editEmp} location={location} projects={projects} />\n          )}\n        {selectModal === \"show\" && <ShowEmployee empid={showEmp} />}\n      </Modal>\n    </div>\n  );\n};\nconst mapStateToProps = (state) => ({\n  auth: state.auth,\n  messages: state.messages,\n  employee: state.employee,\n});\n\nexport default connect(mapStateToProps, {})(Dashboard);\n"]},"metadata":{},"sourceType":"module"}